{
	"info": {
		"_postman_id": "f4aa52b2-fb4a-44d3-9a23-75fc65e3f486",
		"name": "Onboard-Generic-FSP",
		"description": "Author: Kamuela Franco\nPurpose: Used to add new FSP and relevant Callback Information",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Add Generic DFSP",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8869fdc9-c7b7-40da-b9da-c56308e3177a",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{HUB_OPERATOR}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\"name\": \"{{DFSP_NAME}}\",\"currency\": \"{{DFSP_CURRENCY}}\"}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add initial position and limits - Generic DFSP",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "e56b7c34-cc1a-4fd6-87c9-c4164b446036",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"type": "text",
						"value": "{{HUB_OPERATOR}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"currency\": \"{{DFSP_CURRENCY}}\",\n\t\"limit\": {\n\t  \"type\": \"NET_DEBIT_CAP\",\n\t  \"value\": {{INITIAL_NET_DEBIT_CAP}}\n\t},\n\t\"initialPosition\": {{INITIAL_POSITION}}\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/initialPositionAndLimits",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"initialPositionAndLimits"
					]
				}
			},
			"response": []
		},
		{
			"name": "Deposit Funds in Settlement Account - Generic DFSP",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "336b2f23-c2fb-41fe-8686-bafe38b85542",
						"exec": [
							"var uuid = require('uuid');",
							"var generatedUUID = uuid.v4();",
							"pm.environment.set('FUNDS_IN_PREPARE_TRANSFER_ID', generatedUUID);",
							"pm.environment.set('FUNDS_IN_PREPARE_AMOUNT', 1000);",
							"",
							"const genericDfspGetStatusRequest = {",
							"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/{{DFSP_NAME}}/accounts',",
							"  method: 'GET',",
							"  header: {",
							"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
							"      \"FSPIOP-Source\": pm.environment.get(\"HUB_OPERATOR\"),",
							"      \"Content-Type\": \"application/json\"",
							"  }",
							"};",
							"pm.sendRequest(genericDfspGetStatusRequest, function (err, response) {",
							"    console.log(response.json())",
							"    var jsonData = response.json()",
							"    for(var i in jsonData) {",
							"        if(jsonData[i].ledgerAccountType === 'SETTLEMENT') {",
							"            pm.environment.set(\"GENERIC_DFSP_SETTLEMENT_ACCOUNT_ID\",jsonData[i].id)",
							"            pm.environment.set(\"GENERIC_DFSP_SETTLEMENT_ACCOUNT_BALANCE_BEFORE_FUNDS_IN\",jsonData[i].value)",
							"        }",
							"    }",
							"});",
							"",
							"const hubGetStatusRequest = {",
							"  url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/{{HUB_NAME}}/accounts',",
							"  method: 'GET',",
							"  header: {",
							"      \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
							"      \"FSPIOP-Source\": pm.environment.get(\"HUB_OPERATOR\"),",
							"      \"Content-Type\": \"application/json\"",
							"  }",
							"};",
							"pm.sendRequest(hubGetStatusRequest, function (err, response) {",
							"    console.log(response.json())",
							"    response.json()",
							"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('DFSP_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
							"        .forEach(account => pm.environment.set(\"HUB_RECONCILIATION_ACCOUNT_BALANCE_BEFORE_FUNDS_IN\",account.value))",
							"});",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "a085486c-acf5-4b04-8123-9f85cea73a07",
						"exec": [
							"pm.test(\"Status code is 202\", function () {",
							"    pm.response.to.have.status(202);",
							"});",
							"",
							"setTimeout(function () {",
							"    const genericDfspGetStatusRequest = {",
							"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/'+pm.environment.get(\"DFSP_NAME\")+'/accounts',",
							"      method: 'GET',",
							"      header: {",
							"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
							"          \"FSPIOP-Source\": pm.environment.get(\"HUB_OPERATOR\"),",
							"          \"Content-Type\": \"application/json\"",
							"      }",
							"    };",
							"    pm.sendRequest(genericDfspGetStatusRequest, function (err, response) {",
							"        console.log(response.json())",
							"        var jsonData = response.json()",
							"        var genericDfspSettlementAccountBalanceAfterFundsIn",
							"        for(var i in jsonData) {",
							"            if(jsonData[i].ledgerAccountType === 'SETTLEMENT') {",
							"                payerfspSettlementAccountBalanceAfterFundsIn = jsonData[i].value",
							"            }",
							"        }",
							"        var genericDfspExpectedBalance = pm.environment.get('GENERIC_DFSP_SETTLEMENT_ACCOUNT_BALANCE_BEFORE_FUNDS_IN') - pm.environment.get('FUNDS_IN_PREPARE_AMOUNT')",
							"        pm.test(\"Final Generic DFSP Settlement Account Balance should be same as before FundsIn + fundsInPrepareAmount\", function () {",
							"            pm.expect(genericDfspSettlementAccountBalanceAfterFundsIn).to.eql(genericDfspExpectedBalance);",
							"          });    ",
							"    ",
							"    });",
							"    ",
							"    const hubGetStatusRequest = {",
							"      url: pm.environment.get(\"HOST_CENTRAL_LEDGER\")+pm.environment.get(\"BASE_CENTRAL_LEDGER_ADMIN\")+'/participants/{{HUB_NAME}}/accounts',",
							"      method: 'GET',",
							"      header: {",
							"          \"Authorization\":\"Bearer \"+pm.environment.get(\"HUB_OPERATOR_BEARER_TOKEN\"),",
							"          \"FSPIOP-Source\": pm.environment.get(\"HUB_OPERATOR\"),",
							"          \"Content-Type\": \"application/json\"",
							"      }",
							"    };",
							"    pm.sendRequest(hubGetStatusRequest, function (err, response) {",
							"        console.log(response.json())",
							"        var jsonData = response.json()",
							"        var currentHubReconAccountBalance",
							"        response.json()",
							"        .filter( ledgerAccount => (ledgerAccount.currency === pm.environment.get('DFSP_CURRENCY') && ledgerAccount.ledgerAccountType === 'HUB_RECONCILIATION'))",
							"        .forEach(account => hubReconAccountBalanceAfterFundsIn = account.value)",
							"        // for(var i in jsonData) {",
							"        //     if(jsonData[i].ledgerAccountType === 'HUB_RECONCILIATION') {",
							"        //         hubReconAccountBalanceAfterFundsIn = jsonData[i].value",
							"        //     }",
							"        // }",
							"        var hubExpectedBalance = pm.environment.get(\"HUB_RECONCILIATION_ACCOUNT_BALANCE_BEFORE_FUNDS_IN\")+pm.environment.get('FUNDS_IN_PREPARE_AMOUNT')",
							"        console.log(hubExpectedBalance)",
							"        pm.test(\"Final Hub Reconciliation Account Balance should increase by FundsIn Amount\", function () {",
							"            pm.expect(hubReconAccountBalanceAfterFundsIn).to.eql(hubExpectedBalance);",
							"          });  ",
							"    });",
							"}, 2000)"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"type": "text",
						"value": "{{HUB_OPERATOR}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"transferId\": \"{{FUNDS_IN_PREPARE_TRANSFER_ID}}\",\n  \"externalReference\": \"string\",\n  \"action\": \"recordFundsIn\",\n  \"reason\": \"string\",\n  \"amount\": {\n    \"amount\": {{FUNDS_IN_PREPARE_AMOUNT}},\n    \"currency\": \"{{DFSP_CURRENCY}}\"\n  },\n  \"extensionList\": {\n    \"extension\": [\n      {\n        \"key\": \"string\",\n        \"value\": \"string\"\n      }\n    ]\n  }\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/accounts/{{GENERIC_DFSP_SETTLEMENT_ACCOUNT_ID}}",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"accounts",
						"{{GENERIC_DFSP_SETTLEMENT_ACCOUNT_ID}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - PARTICIPANT PUT",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6438cf7a-96d3-40c9-ac00-0d8a5f87bbd9",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{HUB_OPERATOR}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_PARTICIPANT_PUT\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/participants/{{partyIdType}}/{{partyIdentifier}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - PARTICIPANT PUT Error",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "7bbe328e-7e30-497b-b5a3-6890480c1bbb",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_PARTICIPANT_PUT_ERROR\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/participants/{{partyIdType}}/{{partyIdentifier}}/error\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - PARTICIPANT PUT Batch",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "7d923fd4-5a1f-4697-ba30-94e0a2fbc8bc",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_PARTICIPANT_BATCH_PUT\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/participants/{{requestId}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - PARTICIPANT PUT Batch Error",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b4a643af-f8e0-4aaa-955c-90b65cc14a17",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_PARTICIPANT_BATCH_PUT_ERROR\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/participants/{{requestId}}/error\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - PARTIES GET",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2658b8a2-07d2-4ae8-95fe-5fac947ba5a8",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_PARTIES_GET\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/parties/{{partyIdType}}/{{partyIdentifier}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - PARTIES PUT",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b121ee1f-7cdb-4814-998f-1ab25f35447c",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_PARTIES_PUT\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/parties/{{partyIdType}}/{{partyIdentifier}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - PARTIES PUT Error",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "56129f5c-9baf-46d7-b9a5-59f173436943",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_PARTIES_PUT_ERROR\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/parties/{{partyIdType}}/{{partyIdentifier}}/error\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - QUOTES",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "78205452-8053-4c6c-9b3e-172c19db0b29",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{HUB_OPERATOR}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_QUOTES\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - TRANSFER POST",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "3bb02ebd-e56f-46d7-b32c-8238c4178837",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{HUB_OPERATOR}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_TRANSFER_POST\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/transfers\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - TRANSFER PUT",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0d761f7f-51bf-4776-9907-217fc9665fbd",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{HUB_OPERATOR}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_TRANSFER_PUT\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/transfers/{{transferId}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Generic DFSP callback - TRANSFER ERROR",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "936c1758-326b-4348-9dd3-2ea5f05a6091",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{HUB_OPERATOR}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"FSPIOP_CALLBACK_URL_TRANSFER_ERROR\",\n  \"value\": \"{{GENERIC_DFSP_CALLBACK_URL}}/transfers/{{transferId}}/error\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				}
			},
			"response": []
		},
		{
			"name": "Set Email-NET_DEBIT_CAP_THRESHOLD_BREACH_EMAIL",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Cache-Control",
						"value": "no-cache"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{DFSP_NAME}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"NET_DEBIT_CAP_THRESHOLD_BREACH_EMAIL\",\n  \"value\": \"{{NDC_THRESHOLD_BREACH_EMAIL}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				},
				"description": "Generated from a curl request: \ncurl -i -X POST     http://test-central-ledger.mojaloop.test/admin/participants/testfsp2/initialPositionAndLimits     -H 'Cache-Control: no-cache'     -H 'Content-Type: application/json'     -d '{\n    \\\"currency\\\": \\\"USD\\\",\n    \\\"limit\\\": {\n      \\\"type\\\": \\\"NET_DEBIT_CAP\\\",\n      \\\"value\\\": 1000\n    },\n    \\\"initialPosition\\\": 0\n  }'"
			},
			"response": [
				{
					"name": "2. Create Initial Position and Limits",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Cache-Control",
								"value": "no-cache"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"currency\": \"USD\",\n    \"limit\": {\n      \"type\": \"NET_DEBIT_CAP\",\n      \"value\": 1000\n    },\n    \"initialPosition\": 0\n  }"
						},
						"url": {
							"raw": "http://test-central-ledger.mojaloop.live/admin/participants/testfsp/initialPositionAndLimits",
							"protocol": "http",
							"host": [
								"test-central-ledger",
								"mojaloop",
								"live"
							],
							"path": [
								"admin",
								"participants",
								"testfsp",
								"initialPositionAndLimits"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Set Email-NET_DEBIT_CAP_ADJUSTMENT_EMAIL",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Cache-Control",
						"value": "no-cache"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{HUB_OPERATOR}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"NET_DEBIT_CAP_ADJUSTMENT_EMAIL\",\n  \"value\": \"{{NDC_ADJUSTMENT_EMAIL}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				},
				"description": "Generated from a curl request: \ncurl -i -X POST     http://test-central-ledger.mojaloop.test/admin/participants/testfsp2/initialPositionAndLimits     -H 'Cache-Control: no-cache'     -H 'Content-Type: application/json'     -d '{\n    \\\"currency\\\": \\\"USD\\\",\n    \\\"limit\\\": {\n      \\\"type\\\": \\\"NET_DEBIT_CAP\\\",\n      \\\"value\\\": 1000\n    },\n    \\\"initialPosition\\\": 0\n  }'"
			},
			"response": [
				{
					"name": "2. Create Initial Position and Limits",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Cache-Control",
								"value": "no-cache"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"currency\": \"USD\",\n    \"limit\": {\n      \"type\": \"NET_DEBIT_CAP\",\n      \"value\": 1000\n    },\n    \"initialPosition\": 0\n  }"
						},
						"url": {
							"raw": "http://test-central-ledger.mojaloop.live/admin/participants/testfsp/initialPositionAndLimits",
							"protocol": "http",
							"host": [
								"test-central-ledger",
								"mojaloop",
								"live"
							],
							"path": [
								"admin",
								"participants",
								"testfsp",
								"initialPositionAndLimits"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Set Email-SETTLEMENT_TRANSFER_POSITION_CHANGE_EMAIL",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{HUB_OPERATOR_BEARER_TOKEN}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Cache-Control",
						"value": "no-cache"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "FSPIOP-Source",
						"value": "{{DFSP_NAME}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"type\": \"SETTLEMENT_TRANSFER_POSITION_CHANGE_EMAIL\",\n  \"value\": \"{{SETTLEMENT_TRANSFER_POSITION_CHANGE_EMAIL}}\"\n}"
				},
				"url": {
					"raw": "{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}/participants/{{DFSP_NAME}}/endpoints",
					"host": [
						"{{HOST_CENTRAL_LEDGER}}{{BASE_CENTRAL_LEDGER_ADMIN}}"
					],
					"path": [
						"participants",
						"{{DFSP_NAME}}",
						"endpoints"
					]
				},
				"description": "Generated from a curl request: \ncurl -i -X POST     http://test-central-ledger.mojaloop.test/admin/participants/testfsp2/initialPositionAndLimits     -H 'Cache-Control: no-cache'     -H 'Content-Type: application/json'     -d '{\n    \\\"currency\\\": \\\"USD\\\",\n    \\\"limit\\\": {\n      \\\"type\\\": \\\"NET_DEBIT_CAP\\\",\n      \\\"value\\\": 1000\n    },\n    \\\"initialPosition\\\": 0\n  }'"
			},
			"response": [
				{
					"name": "2. Create Initial Position and Limits",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Cache-Control",
								"value": "no-cache"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"currency\": \"USD\",\n    \"limit\": {\n      \"type\": \"NET_DEBIT_CAP\",\n      \"value\": 1000\n    },\n    \"initialPosition\": 0\n  }"
						},
						"url": {
							"raw": "http://test-central-ledger.mojaloop.live/admin/participants/testfsp/initialPositionAndLimits",
							"protocol": "http",
							"host": [
								"test-central-ledger",
								"mojaloop",
								"live"
							],
							"path": [
								"admin",
								"participants",
								"testfsp",
								"initialPositionAndLimits"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "a3e74abc-7be6-49d7-88a1-1233d0582556",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "8e145984-2c7d-449e-918b-282655772ed3",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}
